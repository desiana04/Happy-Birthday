<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/halaman3.css">
    <title>Happy Birthday Vika</title>
</head>

<body>

    <!-- Background Video -->
    <video class="video-background" autoplay loop muted>
        <source src="video-love.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>

    <!-- Tombol Back -->
    <button class="back-button" id="back-button">Back</button>
    <button class="continue-music" id="continue-music">Lanjutkan</button>

    <!-- Container Putih -->
    <div class="container">
        <img src="img/Group 27.png" alt="">
    </div>

    <script>
        // Ambil tombol lanjutkan musik dan tombol kembali
        const continueMusicButton = document.getElementById("continue-music");
        const backButton = document.getElementById("back-button");

        // Ambil waktu lagu dan status pemutaran yang tersimpan
        const savedTime = sessionStorage.getItem("musicTime");
        const wasPlaying = sessionStorage.getItem("isPlaying") === "true";

        // Inisialisasi audio
        let audio = new Audio("mylove.mp3");
        audio.loop = true;

        if (savedTime) {
            audio.currentTime = parseFloat(savedTime);
        }

        // Jika tombol "Lanjutkan Musik" ada, tambahkan event listener
        if (continueMusicButton) {
            continueMusicButton.addEventListener("click", () => {
                if (wasPlaying) {
                    audio.play()
                        .then(() => console.log("Lagu dilanjutkan."))
                        .catch((err) => console.error("Gagal memutar musik:", err));
                }
            });
        }

        // Jika tombol "Kembali" ada, tambahkan event listener
        if (backButton) {
            backButton.addEventListener("click", function () {
                // Simpan waktu terakhir lagu sebelum pindah halaman
                sessionStorage.setItem("musicTime", audio.currentTime);
                sessionStorage.setItem("isPlaying", !audio.paused);

                window.location.href = "halaman2.html";
            });
        }

    </script>

</body>

</html>